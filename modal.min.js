!function(t){"use strict";var o="UiModal",e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;"object"==typeof exports?module.exports=t(e,require("jquery")):e[o]=t(e,$)}(function(t,o){"use strict";function e(t){return null!=t}function n(t){return void 0===t}function r(t){var n=".js-onModal",r=e(t)?t:{},l=o(n);e(r.root)&&(l=r.root instanceof jQuery?t.root:o(t.root)),this[0]=l.map(function(t,o){return new a(r,o)})}function a(t,e){var r=this;r.target=null,r.extension=null,r.$root=o(e),r.opt={root:r.defaultRootElement,padding:n(t.padding)?40:t.padding},r.$root.on("click",{module:r},r.init)}function l(t){return"png"===d(t)}function i(t){return"gif"===d(t)}function s(t){return"jpg"===d(t)}function d(t){var o;if(!t)return o;var e=t.split("."),n=e.length;return 0===n?o:o=e[n-1]}return a.prototype.init=function(t){var o=t.data.module;return o.setSrc(this),o.drawModalElement(),o.calcSize(o.open),!1},a.prototype.setSrc=function(t){return this.target=o(t).attr("href"),-1!==this.target.indexOf("youtube.com")&&(this.type="youtube"),(l(this.target)||i(this.target)||s(this.target))&&(this.type="img"),this},a.prototype.drawModalElement=function(){return this.drawOverlay(),this.drawModal(),this.drawModalBody(),this.drawModalContent(),this.drawModalBtn(),this.setModalElements(),this.setModalCloseElements(),this},a.prototype.drawOverlay=function(){return o("body").append("<div id='js-modalOverlay' class='ui-modalOverlay'>"),this.$overlay=o("#js-modal-overlay"),this},a.prototype.drawModal=function(){return o("body").append("<div id='js-modal' class='ui-modal'>"),this.$modal=o("#js-modal"),this},a.prototype.drawModalBody=function(){return this.$modal.append("<div id='js-modal__body' class='ui-modal__body'>"),this.$modalBody=o("#js-modal__body"),this},a.prototype.drawModalContent=function(){var t="<img src='"+this.target+"' >";return"youtube"===this.type&&(t="<iframe src='"+this.target+"' width='1000' height='563' frameborder='0' allowfullscreen></iframe>"),this.$modalBody.append(t),this},a.prototype.drawModalBtn=function(){var t="<a id='js-modal__close' class='ui-modal__close' href='#'>close</a>";return this.$modalBody.append(t),this},a.prototype.setModalElements=function(){return this.$modalElements=o("#js-modalOverlay, #js-modal"),this},a.prototype.setModalCloseElements=function(){return this.$modalCloseElements=o("#js-modalOverlay, #js-modal__close"),this},a.prototype.calcSize=function(t){var o=this;if("img"===o.type){var e=new Image;e.src=this.target,e.onload=function(){return o.setSize(e.width,e.height),"function"!=typeof t?!1:void t.apply(o)}}else{if(o.setSize(1e3,563),"function"!=typeof t)return!1;t.apply(o)}},a.prototype.setSize=function(t,o){return this.$modal.css({width:t,height:o}),this},a.prototype.open=function(){var t=this;return o("body").addClass("js-noScroll"),t.$modalElements.fadeIn(function(){t.setCloseEvent()}),this},a.prototype.close=function(t){var e=t.data.module;return e.$modalElements.fadeOut(function(){e.$modalElements.remove(),o("body").removeClass("js-noScroll")}),this},a.prototype.setCloseEvent=function(){var t=this;t.$modalCloseElements.on("click",{module:t},t.close)},r});
//# sourceMappingURL=modal.min.js.map