"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(t){var e="uiModal",o="object"===("undefined"==typeof self?"undefined":_typeof(self))&&self.self===self&&self||"object"===("undefined"==typeof global?"undefined":_typeof(global))&&global.global===global&&global;"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t(o,require("jquery")):o[e]=t(o,$)}(function(t,e){function o(t){var o,s=".js-onModal",r=n(t)?{}:t;return n(r.root)&&(o=e(s)),n(r.root)||(o=r.root instanceof jQuery?t.root:e(t.root)),o.map(function(t,e){new i(r,e)})}function i(t,o){var i=this;this.target=null,this.extension=null,this.$root=e(o),this.opt={root:this.defaultRootElement,width:n(t.width)?800:t.width,height:n(t.height)?600:t.height,padding:n(t.padding)?40:t.padding,type:n(t.type)?"img":t.type,startopen:n(t.startopen)?!1:t.startopen,clone:n(t.clone)?!1:t.clone,btn:n(t.btn)?!0:t.btn},this.$root.on("click",function(t){return t.preventDefault(),i.init(),!1}),this.opt.startopen&&this.init()}var n=function(t){return void 0===t},s=function(t){return"png"===d(t)},r=function(t){return"gif"===d(t)},a=function(t){return"jpg"===d(t)},l=function(t){return 0===t.indexOf("#")},d=function(t){var e;if(!t)return!1;var o=t.split("."),i=o.length;return 0===i?!1:e=o[i-1]};return i.prototype.init=function(){return console.log("init"),this.setTarget(),this.setType(),this.drawModalElement(),this.calcSize(this.open),this},i.prototype.setTarget=function(){return this.target=this.$root.attr("href"),this},i.prototype.setType=function(t){return-1!==this.target.indexOf("youtube.com")&&(this.type="youtube",this.setYoutubeId()),(s(this.target)||r(this.target)||a(this.target))&&(this.type="img"),l(this.target)&&(this.type="div"),"iframe"===this.opt.type&&(this.type="iframe"),this},i.prototype.setYoutubeId=function(){this.target=this.getYoutubeId()},i.prototype.getYoutubeId=function(){var t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/,e=this.target.match(t);return e&&11==e[2].length?e[2]:void 0},i.prototype.drawModalElement=function(){return this.drawOverlay(),this.drawModal(),this.drawModalBody(),this.drawModalContent(),this.opt.btn&&this.drawModalBtn(),this.setModalElements(),this.setModalCloseElements(),this},i.prototype.drawOverlay=function(){return e("body").append("<div id='js-modalOverlay' class='ui-modal__overlay'>"),this.$overlay=e("#js-modal-overlay"),this},i.prototype.drawModal=function(){return e("body").append("<div id='js-modal' class='ui-modal'>"),this.$modal=e("#js-modal"),this},i.prototype.drawModalBody=function(){return this.$modal.append("<div id='js-modalBody' class='ui-modal__body'>"),this.$modalBody=e("#js-modalBody"),this},i.prototype.drawModalContent=function(){var t="<img src='"+this.target+"' >";return"youtube"===this.type&&(t="<iframe src='https://www.youtube.com/embed/"+this.target+"?enablejsapi=1&amp;rel=0&amp;controls=0&amp;showinfo=0' width='' height='' frameborder='0' allowfullscreen></iframe>"),"iframe"===this.type&&(t="<iframe src='"+this.target+"' width='' height='' frameborder='0' allowfullscreen></iframe>"),"div"===this.type&&(t=this.opt.clone?e(this.target).clone(!0,!0):e(this.target)),this.$modalBody.append(t),this},i.prototype.drawModalBtn=function(){var t="<a id='js-modalClose' class='ui-modal__close' href='#'>close</a>";return this.$modalBody.append(t),this},i.prototype.setModalElements=function(){return this.$modalElements=e("#js-modalOverlay, #js-modal"),this},i.prototype.setModalCloseElements=function(){return this.$modalCloseElements=e("#js-modalOverlay, #js-modalClose"),this},i.prototype.calcSize=function(t){var e=this;if("img"===this.type){var o=new Image;o.src=this.target,o.onload=function(){return e.setSize(o.width,o.height),"function"!=typeof t?!1:void t.apply(e)}}else{if(this.setSize(this.opt.width,this.opt.height),"function"!=typeof t)return!1;t.apply(this)}},i.prototype.setSize=function(t,e){return this.$modal.css({width:t,height:e}),("youtube"===this.type||"iframe"===this.type)&&this.$modalBody.find("iframe").css({width:t,height:e}),this},i.prototype.open=function(){var t=this;return e("body").addClass("js-noScroll"),this.$modalElements.fadeIn(function(){t.setCloseEvent()}),this},i.prototype.close=function(){var t=this;return this.$modalElements.fadeOut(function(){"div"!==t.type||t.opt.clone||e("body").append(e(t.target)),t.$modalElements.remove(),e("body").removeClass("js-noScroll")}),this},i.prototype.setCloseEvent=function(){var t=this;this.$modalCloseElements.on("click",function(){t.close()})},o});
//# sourceMappingURL=modal.min.js.map
